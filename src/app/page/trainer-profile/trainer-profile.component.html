<section *ngIf="trainer != undefined && trainer != null && trainer.user != undefined" class="trainer-profile">
    <div class="container">
        <div class="row justify-content-center">
            <div class=" col-lg-10 col-xl-9 col-md-8 col-11">
                <div class="trainer-info" [style.marginBottom.px]="(lstOfImages && lstOfImages.length > 3) ? 0 : 80">
                    <div class="img-thumb mt-4 mr-4">
                        <span class="border-avatar2"></span>
                        <span class="border-avatar"></span>
                        <img *ngIf="trainer.user.imageUrl && trainer.user.imageUrl.indexOf('render') > -1"
                            src="{{urlPrefix}}{{trainer.user.imageUrl}}?width=450&height=550">

                        <img *ngIf="trainer.user.imageUrl && trainer.user.imageUrl.indexOf('render') == -1"
                            src="{{trainer.user.imageUrl}}">

                        <div *ngIf="trainer.user.businessId > 0" class="img-qualifications">
                            <img src="{{urlPrefix}}{{trainer.user.businessImage}}?width=100&height=100">
                        </div>
                        <div (click)="playVideo(trainer)"
                            *ngIf="trainer.user.videoUrl != null && trainer.user.videoUrl != ''" class="video-profile">
                            <span class="btn-video"><i class="fa fa-play"></i></span>
                            <div style="background:#000" class="video-thumbnail">
                            </div>
                        </div>
                    </div>
                    <div class="info">
                        <p class="trainer-name ">{{trainer.user.firstname}} {{trainer.user.lastname}}
                            <img *ngIf="trainer.isFeatured == true" src="../assets/image/icon-check.png" />
                            <label *ngIf="trainer.isFeatured == true" class="featured">Featured</label>
                        </p>
                        <p class="trainer-location mb-4"><i class="icon-location mr-2"></i> {{trainer.serviceArea}}
                            <span style="font-weight:600;color:#000" class="ml-2"> {{trainer.distance}}km away</span>
                        </p>
                        <div class="trainer-rating mb-2">
                            <div class="row">
                                <div class="col-xl-4 col-lg-4 col-md-4 col-3 block">
                                    <p>100%</p>
                                    <!-- <p>{{+((trainer.user.rating/5)*100)}}%</p> -->
                                    <p>RATING</p>
                                </div>
                                <div *ngIf="trainer.user.points" class="col-xl-4 col-lg-4 col-md-4 col-3 block">
                                    <p>{{trainer.user.points}}</p>
                                    <p>POINTS</p>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-4 col-3 block">
                                    <p>{{trainer.user.postCount}}</p>
                                    <p>POST</p>
                                </div>
                            </div>
                        </div>
                        <p style=" padding-left:10px;">
                            <button data-toggle="modal" data-target="#sendMessengeModal" class="btn  mr-3"><i
                                    class="fa fa-inbox"></i></button>
                            <button data-toggle="modal" data-target="#requestCallBackModal" class="btn btn-puml">REQUEST
                                A CALL BACK</button>
                        </p>
                    </div>
                    <div class="slide-show-container--middle-page" *ngIf="lstOfImages && lstOfImages.length > 3">
                        <div class="slide-show__box-center">
                            <div ng2-carouselamos [width]="1138" [items]="lstOfImages" [$item]="itemTemplate2"
                                [$prev]="prevTemplate" [$next]="nextTemplate">

                            </div>
                            <ng-template #prevTemplate>
                                <i class="icon-left-arrow"></i>
                            </ng-template>
                            <ng-template #nextTemplate>
                                <i class="icon-right-arrow"></i>
                            </ng-template>
                            <ng-template let-item let-i="index" #itemTemplate2>
                                <div class="image-item">
                                    <img [src]="urlPrefix + item.imageUrl + '?width=450&height=550'" />
                                </div>
                            </ng-template>
                        </div>
                    </div>
                    <div class="clearfix" style="clear: both;"></div>

                </div>
            </div>
        </div>
    </div>
</section>

<section *ngIf="trainer != undefined && trainer != null && trainer.user != undefined" class="mt-5">
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class=" col-lg-9 col-xl-9 col-md-12 col-11">
                <h5 style="padding-left: 12px;">SPECIALITIES
                </h5>
                <div class="tag">
                    <button class="btn-tag" *ngFor="let tag of lstTag">
                        <i class="fa fa-circle {{tag.color}}"></i> {{tag.title}}
                    </button>
                    <div class="clearfix" style="clear: both;"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<section
    *ngIf="trainer != undefined && trainer != null && trainer.user != undefined && trainer.user.bio != null && trainer.user.bio != ''"
    class=" mt-5">
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class="  col-lg-9 col-xl-9 col-md-12 col-11">
                <h5 style="padding-left: 10px;">ABOUT
                </h5>
                <p class="description">{{trainer.user.bio}}</p>
            </div>
        </div>
    </div>
</section>

<section
    *ngIf="trainer != undefined && trainer != null && trainer.user != undefined && trainer.websiteUrl != '' && trainer.websiteUrl != null"
    class="mt-5">
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class="  col-lg-9 col-xl-9 col-md-12 col-11">
                <h5 style="padding-left: 10px;">WEBSITE
                </h5>
                <p class="description"><a target="_blank" style="color:inherit; text-decoration: underline"
                        href="{{trainer.websiteUrl}}">{{trainer.websiteUrl}}</a></p>
            </div>
        </div>
    </div>
</section>
<section
    *ngIf="trainer != undefined && trainer != null && trainer.user != undefined && trainer.qualifications != null && trainer.qualifications != ''"
    class=" mt-5">
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class="  col-lg-9 col-xl-9 col-md-12 col-11">
                <h5 style="padding-left: 10px;">QUALITIFICATIONS
                </h5>
                <p class="description" [innerHtml]="trainer.qualifications"></p>
            </div>
        </div>
    </div>
</section>
<section
    *ngIf="trainer != undefined && trainer != null && trainer.user != undefined && trainer.achievements != null && trainer.achievements != ''"
    class=" mt-5">
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class="  col-lg-9 col-xl-9 col-md-12 col-11">
                <h5 style="padding-left: 10px;">ACHIEVEMENTS
                </h5>
                <p class="description" [innerHtml]="trainer.achievements"></p>
            </div>
        </div>
    </div>
</section>
<section
    *ngIf="trainer != undefined && trainer != null && trainer.user != undefined && (trainer.user.instagramUrl != '' || trainer.user.instagramUrl != null || trainer.user.facebookUrl != ''  || trainer.user.facebookUrl != null || trainer.user.twitterUrl != '' || trainer.user.twitterUrl != null )"
    class="mt-5">
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class="  col-lg-9 col-xl-9 col-md-12 col-11">
                <h5 style="padding-left: 10px;">SOCIAL
                </h5>
                <p style="padding-left:10px">
                    <a *ngIf="trainer.user.facebookUrl != undefined && trainer.user.facebookUrl != null && trainer.user.facebookUrl != ''"
                        href="{{trainer.user.facebookUrl}}" target="_blank" class="btn btn-facebook">FACEBOOK</a>
                    <a *ngIf="trainer.user.instagramUrl != undefined && trainer.user.instagramUrl != null && trainer.user.instagramUrl != ''"
                        href="{{trainer.user.instagramUrl}}" class="btn btn-instagram" target="_blank">INSTAGRAM</a>
                    <a *ngIf="trainer.user.twitterUrl != undefined && trainer.user.twitterUrl != null &&  trainer.user.twitterUrl != ''"
                        href="{{trainer.user.twitterUrl}}" class="btn btn-twitter" target="_blank">TWITTER</a>
                </p>
            </div>
        </div>
    </div>
</section>

<section class=" mt-5">
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class=" col-lg-9 col-xl-9 col-md-12 col-11">
                <h5 style="padding-left: 10px;">TESTIMONIALS
                </h5>
                <div *ngIf="trainer != undefined && trainer != null && trainer.user != undefined && trainer.totalTestimonial > 0"
                    class="slide-show-container--middle-page testimonials">
                    <div class="slide-show__box-center testimonials">
                        <div ng2-carouselamos [items]="lstTestimonial" [$item]="itemTemplate2" [$prev]="prevTemplate"
                            [$next]="nextTemplate">
                        </div>
                        <ng-template #prevTemplate>
                            <i class="icon-left-arrow"></i>
                        </ng-template>
                        <ng-template #nextTemplate>
                            <i class="icon-right-arrow"></i>
                        </ng-template>
                        <ng-template let-item let-i="index" #itemTemplate2>
                            <div class="testimonials-item">
                                <div class="block-left">
                                    <div class="avt">
                                        <img
                                            src="http://api.pummel.fit//api/uploads/349/render?width=450&amp;height=550">
                                    </div>
                                    <div class="mt-3 rating">
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star"></span>
                                        <span class="fa fa-star"></span>
                                    </div>
                                </div>
                                <div class="block-right">
                                    <p>A wiki is run using wiki software, otherwise known as a wiki engine. A wiki
                                        engine is
                                        a type of content management system, but it differs from most other such
                                        systems, including blog software, in that the content is created without any
                                        defined owner or leader, and wikis have little inherent structure, allowing
                                        structure to emerge according to the needs of the users.[2] There are dozens of
                                        different wiki engines in use, both standalone and part of other software, such
                                        as bug tracking systems. Some wiki engines are open source, whereas others are
                                        proprietary. Some permit control over different functions (levels of access);
                                        for example, editing rights may permit changing, adding, or removing material.
                                        Others may permit access without enforcing access control. Other rules may be
                                        imposed to organize content. </p>
                                    <p class="mt-2"><strong>Wayne Ryan </strong> Gold Coast, QLD </p>
                                </div>
                            </div>
                            <div class="clearfix" style="clear: both;"></div>


                        </ng-template>
                    </div>
                </div>

                <p style=" padding-left:10px;">

                    <button data-toggle="modal" data-target="#testimonialModal" class="btn btn-testimonial">ADD
                        TESTIMONIAL</button>
                </p>
            </div>
        </div>
    </div>
</section>
<section *ngIf="trainer != undefined && trainer != null && trainer.long != null && trainer.lat != null" class="map">
    <one-point [pointInfo]="trainer" width="100%" height="100%"></one-point>
</section>


<div class="modal" id="requestCallBackModal" data-backdrop="static" data-keyboard="false" role="dialog">
    <div class="modal-dialog">
        <div [formGroup]="requestCallBackForm" class="form">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" data-dismiss="modal" class="close"><i class="icon-clear"></i></button>
                </div>
                <div class="modal-body">
                    <h4 class="modal-title mb-3"><i class="icon-comment"></i></h4>
                    <h3 class="modal-title mb-3">Request a call back</h3>
                    <div class="row " style="padding:1rem 0.6rem">
                        <div class="col-xs-12 col-md-12">
                            <div class="row">
                                <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                    <i class="fa fa-user-circle">
                                    </i>
                                    <input name="fullname" type="text" placeholder="FULL NAME"
                                        formControlName="fullname" class="form-control" required />
                                    <app-control-message [control]="requestCallBackForm.controls.fullname">
                                    </app-control-message>

                                </div>
                            </div>

                        </div>
                        <div class="col-xs-12 col-md-12">
                            <div class="row">
                                <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                    <i class="fa fa-envelope">
                                    </i>
                                    <input name="email" type="text" placeholder="EMAIL" formControlName="email"
                                        class="form-control" required />
                                    <app-control-message [control]="requestCallBackForm.controls.email">
                                    </app-control-message>

                                </div>
                            </div>

                        </div>
                        <div class="col-xs-12 col-md-12">
                            <div class="row">
                                <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                    <i class="fa material-icons">phone_iphone
                                    </i>
                                    <input name="mobile" type="text" placeholder="MOBILE" formControlName="mobile"
                                        class="form-control" required />
                                    <app-control-message [control]="requestCallBackForm.controls.mobile">
                                    </app-control-message>
                                </div>
                            </div>
                        </div>
                        <button [disabled]='requestCallBackForm.invalid'
                            [ngClass]="{'disabled': requestCallBackForm.invalid}" (click)="sendCallBackOrMessage(true)"
                            class="btn btn-primary btn-request-callback mt-2" type="button"> REQUEST A CALL BACK
                        </button>
                    </div>
                </div>


            </div>

        </div>

    </div>
</div>



<div class="modal" id="sendMessengeModal" data-backdrop="static" data-keyboard="false" role="dialog">
    <div class="modal-dialog">
        <div [formGroup]="sendMessageForm" class="form">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" data-dismiss="modal" class="close"><i class="icon-clear"></i></button>
                </div>
                <div class="modal-body">
                    <h4 class="modal-title mb-3"><i class="icon-comment"></i></h4>
                    <h3 class="modal-title mb-3">Send a Message</h3>
                    <div class="row " style="padding:1rem 0.6rem">
                        <div class="col-xs-12 col-md-12">
                            <div class="row">
                                <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                    <i class="fa fa-user-circle">
                                    </i>
                                    <input name="fullname" type="text" placeholder="FULL NAME"
                                        formControlName="fullname" class="form-control" required />
                                    <app-control-message [control]="sendMessageForm.controls.fullname">
                                    </app-control-message>

                                </div>
                            </div>

                        </div>
                        <div class="col-xs-12 col-md-12">
                            <div class="row">
                                <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                    <i class="fa fa-envelope">
                                    </i>
                                    <input name="email" type="text" placeholder="EMAIL" formControlName="email"
                                        class="form-control" required />
                                    <app-control-message [control]="sendMessageForm.controls.email">
                                    </app-control-message>

                                </div>
                            </div>

                        </div>
                        <div class="col-xs-12 col-md-12">
                            <div class="row">
                                <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                    <i class="fa material-icons">phone_iphone
                                    </i>
                                    <textarea maxlength="200" name="message" rows="3" placeholder="MESSAGE"
                                        formControlName="message" class="form-control" required></textarea>
                                    <span class="text-length-required">{{sendMessageForm.get('message').value ? sendMessageForm.get('message').value.length : 0}}/200</span>
                                        <app-control-message [control]="sendMessageForm.controls.message">
                                        </app-control-message>
                                    </div>
                                </div>
                            </div>
                           
                            <button [disabled]='sendMessageForm.invalid' [ngClass]="{'disabled': sendMessageForm.invalid}" (click)="sendCallBackOrMessage(false)"  class="btn btn-primary btn-request-callback mt-2" type="button" > SEND MESSAGE </button>
                        </div>
                    </div>
                 
    
                </div>
    
            </div>
    
        </div>
    </div>
    

    <puml-video-player *ngIf="isPlay" [trainer]="currentTrainer" [videoUrl]="videoUrl"></puml-video-player>


    <section *ngIf="trainer == undefined">
        <div style="margin-bottom:100vh"></div>
    </section>



<div class="modal" id="testimonialModal" data-backdrop="static" data-keyboard="false" role="dialog">
        <div class="modal-dialog">
            <div [formGroup]="testimonialForm" class="form">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" data-dismiss="modal" class="close"><i class="icon-clear"></i></button>
                    </div>
                    <div class="modal-body">
                        <h3 class="modal-title mb-3">Add a testimonial</h3>
                        <div class="row " style="padding:1rem 0.6rem">
                            <div class="col-xs-12 col-md-12">
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                        <i class="fa fa-user-circle">
                                        </i>
                                        <input name="fullname" type="text" placeholder="Name"
                                            formControlName="name" class="form-control" required />
                                        <app-control-message [control]="testimonialForm.controls.name">
                                        </app-control-message>
    
                                    </div>
                                </div>
    
                            </div>
                            <div class="col-xs-12 col-md-12">
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                        <i class="fa icon-location">
                                        </i>
                                        <input name="email" type="text" placeholder="Location" formControlName="location"
                                            class="form-control" required />
                                        <app-control-message [control]="testimonialForm.controls.location">
                                        </app-control-message>
    
                                    </div>
                                </div>
    
                            </div>
                            <div class="col-xs-12 col-md-12">
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                            <i class="fa material-icons">comment
                                                </i>
                                        <textarea maxlength="200" name="comment" rows="3"  placeholder="Comment" formControlName="comment"
                                            class="form-control" required ></textarea>
                                            <span class="text-length-required">{{(testimonialForm.get('comment').value ? testimonialForm.get('comment').value.length : 0)}}/200</span>
                                        <app-control-message [control]="testimonialForm.controls.comment">
                                        </app-control-message>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-12">
                                    <div class="row">
                                        <div class="col-xs-12 col-md-12 mb-2" style="position: relative;">
                                                <i class="fa material-icons">rate_review
                                                    </i>
                                                    <rating formControlName="rating" required 
                                                    [max]="5"
                                                    iconClass="fa-star"
                                                    fullIcon="★"
                                                    emptyIcon="☆"
                                                    [readonly]="false"
                                                    [disabled]="false"
                                                    [required]="true"
                                                    [float]="true">
                                            </rating>
                                            <app-control-message [control]="testimonialForm.controls.rating">
                                                </app-control-message>
                                        </div>
                                    </div>
                                </div>
                            <button [disabled]='testimonialForm.invalid' [ngClass]="{'disabled': testimonialForm.invalid}" (click)="addATestimonial()"  class="btn btn-primary btn-request-callback mt-2" type="button" > SUBMIT </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>